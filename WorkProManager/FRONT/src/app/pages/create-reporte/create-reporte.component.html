<div class="wpm-custom-gradient p-6 rounded-lg shadow-md border-yellow-400 border-8">
  <div class="contenedor">
    <div>
      <h1 class="text-2xl font-bold text-center mb-4">Reportes</h1>
    </div>
  <p>{{ id_ot }}</p>
  <!-- home.component.html -->
  <button (click)="openModal($event)" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 mb-4">Abrir Modal</button>

  <!-- Solo se muestra el modal si isModalOpen es true -->
  <app-modal *ngIf="isModalOpen && id_ot !== null && id_ot !== 0" [id_ot]="id_ot" (closed)="closeModal()"></app-modal>

  <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">Reportes</h1>

  <div class="flex justify-between items-center mb-6">
    <div class="flex space-x-4">
     

  <table class="w-full border-collapse shadow-md rounded-lg bg-white">
    <thead>
      <tr class="bg-gray-100 text-left text-sm text-gray-600">
        <th class="border p-3 font-semibold">ID OT</th>
        <th class="border p-3 font-semibold">ID Servicio</th>
        <th class="border p-3 font-semibold">Fecha detalle</th>
        <th class="border p-3 font-semibold">Descripción</th>
        <th class="border p-3 font-semibold">Usuario</th>
        <th class="border p-3 font-semibold">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let detalleOT of filteredDetalles | paginate: { itemsPerPage: itemsPerPage, currentPage: page }" class="hover:bg-gray-50">
        <td class="border p-3">{{ detalleOT.id_ot }}</td>
        <td class="border p-3">{{ detalleOT.id_serv }}</td>
        <td class="border p-3">{{ detalleOT.fecha_detalle }}</td>
        <td class="border p-3">{{ detalleOT.desc_detalle }}</td>
        <td class="border p-3">{{ detalleOT.rut_usuario }}</td>
        <td class="border p-3">
          <button [routerLink]="['/reportes/createReport/', detalleOT.id_ot, detalleOT.id_serv]" class="bg-yellow-400 text-white px-3 py-2 rounded hover:bg-yellow-500">✏️</button>
          <button *ngIf="detalleOT.d_estado == 1" (click)="confirmarDesmarcar(detalleOT.id_ot, detalleOT.id_serv)" class="bg-green-500 text-white px-3 py-2 rounded hover:bg-green-600 ml-2">⭐</button>
        </td>
      </tr>
    </tbody>
  </table>

  <pagination-controls (pageChange)="onPageChange($event)" class="mt-4"
  previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
</div>

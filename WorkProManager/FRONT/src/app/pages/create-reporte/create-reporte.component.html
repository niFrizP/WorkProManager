<div class="flex-3 ml-64 p-8">

  
  <p>{{id_ot}}</p>
  <!-- home.component.html -->
  <button (click)="openModal($event)">Abrir Modal</button>

  <!-- Solo se muestra el modal si isModalOpen es true -->
  <app-modal *ngIf="isModalOpen && id_ot !== null && id_ot !== 0" [id_ot]="id_ot" (closed)="closeModal()"></app-modal>


  <h1 class="text-2xl font-bold text-center mb-4">Órdenes de Trabajo</h1>



  <div class="flex justify-between items-center mb-4">
    
    <div>
      <label for="filter" class="mr-2 font-medium">Todas las OT</label>
      <select #filterSelect class="p-2 border rounded">
        <option value="todas">Todas</option>
        <option value="en solicitud">En solicitud</option>
        <option value="pendiente">Pendiente</option>
        <option value="finalizado">Finalizado</option>

      </select>


      <button [routerLink]="['/reportes/createReport/', id_ot, 0]">✏️</button>

      <div>
        <label for="filter" class="mr-2 font-medium">Todos los usuarios</label>
        <select #filterSelect class="p-2 border rounded" [(ngModel)]="selectedUsuario">
          <option value="todos">Todas</option>
          <option *ngFor="let usuario of usuarios" [value]="usuario.nom_usu">{{ usuario.nom_usu }} {{usuario.ap_usu}}</option>
        </select>
      </div>

      <div class="mb-4">
        <label for="servicio" class="block font-medium">Servicio:</label>
        <select id="servicio" class="w-full p-2 border rounded" [(ngModel)]="nuevoReporte.servicio" name="servicio" required>
          <option value="">Seleccione un servicio</option>
          <option *ngFor="let servicio of servicios" [value]="servicio.id_serv">{{ servicio.nom_serv }}</option>
        </select>
      </div>

      <div class="mb-4">
        <label for="fecha" class="block font-medium">Fecha:</label>
        <input type="date" id="fecha" class="w-full p-2 border rounded" [(ngModel)]="nuevoReporte.fecha" name="fecha" required>
      </div>

      <button type="submit" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Crear Reporte</button>
  </div>
</div>